<!DOCTYPE html>
<meta charset="utf-8">
<body>
<style>

.chart div {
  font: 10px sans-serif;
  background-color: green;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: black;
  font-weight: bold;
}

</style>
<script src="d3.js"></script>
<script>

let crimes = {}

d3.csv("crime.csv").then(function(data) {
  for (let i = 0; i < data.length; i++) {
    if (crimes.hasOwnProperty(data[i]["UCR Literal"])) {
      crimes[data[i]["UCR Literal"]] = crimes[data[i]["UCR Literal"]] + 1
    } else {
      crimes[data[i]["UCR Literal"]] = 1
    }
  }
}).then(function() {
  for (const [key, value] of Object.entries(crimes)) {
    let width = `${value / 200}px`
    addGraph(key, width)
  }
});

const addGraph = (title, width) => {
  d3.select(".chart").append("div")
    .style("width", width)
    .text(title);
};

</script>


<div class="chart">
</div>
